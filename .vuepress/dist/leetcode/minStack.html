<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Min Stack | Lynch</title>
    <meta name="description" content="">
    <link rel="shortcut icon" href="/favicon.ico">
    
    <link rel="preload" href="/assets/css/0.styles.599df4b1.css" as="style"><link rel="preload" href="/assets/js/app.323f3a58.js" as="script"><link rel="preload" href="/assets/js/3.0cde0bb1.js" as="script"><link rel="preload" href="/assets/js/2.0e59340f.js" as="script"><link rel="preload" href="/assets/js/30.76e3399a.js" as="script"><link rel="preload" href="/assets/js/6.c172b9b9.js" as="script"><link rel="preload" href="/assets/js/8.c764647f.js" as="script"><link rel="prefetch" href="/assets/js/10.e59153c3.js"><link rel="prefetch" href="/assets/js/11.cdd3fc20.js"><link rel="prefetch" href="/assets/js/12.2e5613a6.js"><link rel="prefetch" href="/assets/js/13.553d911f.js"><link rel="prefetch" href="/assets/js/14.bffe978e.js"><link rel="prefetch" href="/assets/js/15.955ff3d2.js"><link rel="prefetch" href="/assets/js/16.f88be165.js"><link rel="prefetch" href="/assets/js/17.d88cfc0d.js"><link rel="prefetch" href="/assets/js/18.1e4e34bf.js"><link rel="prefetch" href="/assets/js/19.daee71cf.js"><link rel="prefetch" href="/assets/js/20.7387655f.js"><link rel="prefetch" href="/assets/js/21.1ce3afbf.js"><link rel="prefetch" href="/assets/js/22.c557802d.js"><link rel="prefetch" href="/assets/js/23.ae425de7.js"><link rel="prefetch" href="/assets/js/24.4f902fc4.js"><link rel="prefetch" href="/assets/js/25.8e2d9bcd.js"><link rel="prefetch" href="/assets/js/26.0a697435.js"><link rel="prefetch" href="/assets/js/27.5de62ab9.js"><link rel="prefetch" href="/assets/js/28.0aa60363.js"><link rel="prefetch" href="/assets/js/29.f5b4aedc.js"><link rel="prefetch" href="/assets/js/31.360255ef.js"><link rel="prefetch" href="/assets/js/32.367f326d.js"><link rel="prefetch" href="/assets/js/33.a7bbca40.js"><link rel="prefetch" href="/assets/js/34.20d6cea3.js"><link rel="prefetch" href="/assets/js/35.f6a2b40b.js"><link rel="prefetch" href="/assets/js/36.fb03b713.js"><link rel="prefetch" href="/assets/js/37.e89ba3d2.js"><link rel="prefetch" href="/assets/js/38.32251920.js"><link rel="prefetch" href="/assets/js/39.842af160.js"><link rel="prefetch" href="/assets/js/4.69e3bad0.js"><link rel="prefetch" href="/assets/js/40.4aa0c645.js"><link rel="prefetch" href="/assets/js/5.2dc912b1.js"><link rel="prefetch" href="/assets/js/7.1749916c.js"><link rel="prefetch" href="/assets/js/9.4ff75009.js">
    <link rel="stylesheet" href="/assets/css/0.styles.599df4b1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="Lynch" class="logo"> <span class="site-name can-hide">Lynch</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/all-tags.html" class="nav-link">Tags</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">JS Basics</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/js-basics/typeComp.html" class="nav-link">Type Comparison</a></li><li class="dropdown-item"><!----> <a href="/js-basics/pq.html" class="nav-link">Priprity Queue with ES6</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">CSS Basics</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/css-tricks/mouse-leave.html" class="nav-link">Mouseleave Animations</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Network</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tags.html#Https" class="nav-link">Https</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">JS Frameworks</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tags.html#Vue" class="nav-link">Vue</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Design Patterns</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/design-patterns/singleton.html" class="nav-link">Singleton</a></li><li class="dropdown-item"><!----> <a href="/design-patterns/factory.html" class="nav-link">Factory</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">LeetCode</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tags.html#Top%20100%20Liked" class="nav-link">Top 100 Liked</a></li><li class="dropdown-item"><!----> <a href="/tags.html#Two%20Pointers" class="nav-link">Two Pointers</a></li><li class="dropdown-item"><!----> <a href="/tags.html#Dynamic%20Programming" class="nav-link">Dynamic Programming</a></li><li class="dropdown-item"><!----> <a href="/tags.html#Tree" class="nav-link">Tree</a></li><li class="dropdown-item"><!----> <a href="/tags.html#Sliding%20Window" class="nav-link">Sliding Window</a></li><li class="dropdown-item"><!----> <a href="/tags.html#Divide%20and%20Conquer" class="nav-link">Divide and Conquer</a></li><li class="dropdown-item"><!----> <a href="/tags.html#Backtracking" class="nav-link">Backtracking</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/all-tags.html" class="nav-link">Tags</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">JS Basics</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/js-basics/typeComp.html" class="nav-link">Type Comparison</a></li><li class="dropdown-item"><!----> <a href="/js-basics/pq.html" class="nav-link">Priprity Queue with ES6</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">CSS Basics</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/css-tricks/mouse-leave.html" class="nav-link">Mouseleave Animations</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Network</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tags.html#Https" class="nav-link">Https</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">JS Frameworks</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tags.html#Vue" class="nav-link">Vue</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Design Patterns</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/design-patterns/singleton.html" class="nav-link">Singleton</a></li><li class="dropdown-item"><!----> <a href="/design-patterns/factory.html" class="nav-link">Factory</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">LeetCode</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tags.html#Top%20100%20Liked" class="nav-link">Top 100 Liked</a></li><li class="dropdown-item"><!----> <a href="/tags.html#Two%20Pointers" class="nav-link">Two Pointers</a></li><li class="dropdown-item"><!----> <a href="/tags.html#Dynamic%20Programming" class="nav-link">Dynamic Programming</a></li><li class="dropdown-item"><!----> <a href="/tags.html#Tree" class="nav-link">Tree</a></li><li class="dropdown-item"><!----> <a href="/tags.html#Sliding%20Window" class="nav-link">Sliding Window</a></li><li class="dropdown-item"><!----> <a href="/tags.html#Divide%20and%20Conquer" class="nav-link">Divide and Conquer</a></li><li class="dropdown-item"><!----> <a href="/tags.html#Backtracking" class="nav-link">Backtracking</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/js-basics/" class="sidebar-heading"><span>JS BASICS</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/js-basics/typeComp.html" class="sidebar-link">Type Comparison</a></li><li><a href="/js-basics/pq.html" class="sidebar-link">Priority Queue with ES6</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/css-tricks/" class="sidebar-heading"><span>CSS BASICS</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/css-tricks/mouse-leave.html" class="sidebar-link">Mouseleave with Rotate Animation</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/network/" class="sidebar-heading"><span>NETWORK</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/network/https.html" class="sidebar-link">Https</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/js-framworks/" class="sidebar-heading"><span>JS FRAMEWORKS</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/js-frameworks/hashChangeEvents.html" class="sidebar-link">Hash Change Events</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/design-patterns/" class="sidebar-heading"><span>DESIGN PATTERNS</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/design-patterns/singleton.html" class="sidebar-link">Singleton</a></li><li><a href="/design-patterns/factory.html" class="sidebar-link">Factory</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/leetcode/" class="sidebar-heading router-link-active open"><span>LEETCODE</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/leetcode/threeSum.html" class="sidebar-link">Three Sum</a></li><li><a href="/leetcode/LVP.html" class="sidebar-link">Longest Valid Parentheses</a></li><li><a href="/leetcode/bstLevelTraversal.html" class="sidebar-link">Binary Tree Level Order Traversal</a></li><li><a href="/leetcode/validateBST.html" class="sidebar-link">Validate Binary Search Tree</a></li><li><a href="/leetcode/flattenBT.html" class="sidebar-link">Flatten Binary Tree to Linked List</a></li><li><a href="/leetcode/constructBST.html" class="sidebar-link">Construct Binary Tree from Preorder and Inorder Traversal</a></li><li><a href="/leetcode/jump2.html" class="sidebar-link">Jump Game ||</a></li><li><a href="/leetcode/minWindowSubstr.html" class="sidebar-link">Minimum Window Substring</a></li><li><a href="/leetcode/medianOfSA.html" class="sidebar-link">Median of Two Sorted Arrays</a></li><li><a href="/leetcode/maxProductSubarr.html" class="sidebar-link">Maximum Product Subarray</a></li><li><a href="/leetcode/slidingWindowMax.html" class="sidebar-link">Sliding Window Maximum</a></li><li><a href="/leetcode/minStack.html" class="active sidebar-link">Min Stack</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/leetcode/minStack.html#description" class="sidebar-link">Description</a></li><li class="sidebar-sub-header"><a href="/leetcode/minStack.html#algorithm" class="sidebar-link">Algorithm</a></li><li class="sidebar-sub-header"><a href="/leetcode/minStack.html#code" class="sidebar-link">Code</a></li></ul></li><li><a href="/leetcode/removeInvalidParen.html" class="sidebar-link">Remove Invalid Parentheses</a></li><li><a href="/leetcode/taskScheduler.html" class="sidebar-link">Task Scheduler</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="min-stack"><a href="#min-stack" aria-hidden="true" class="header-anchor">#</a> Min Stack</h1> <blockquote><p>Posted: 09.20.2019</p></blockquote> <div><span class="tag-container"><a href="/tags.html#LeetCode" class="tag" style="color:skyblue;">
      #LeetCode
    </a></span><span class="tag-container"><a href="/tags.html#Top 100 Liked" class="tag" style="color:palevioletred;">
      #Top 100 Liked
    </a></span> <br> <br></div> <h2 id="description"><a href="#description" aria-hidden="true" class="header-anchor">#</a> Description</h2> <p><img src="/minStack.png" alt="Min Stack"></p> <h2 id="algorithm"><a href="#algorithm" aria-hidden="true" class="header-anchor">#</a> Algorithm</h2> <ul><li>Key idea is track min value</li> <li>For push method
<ul><li>If current value &lt;= min, push min to stack and update min</li> <li>Then, always push current value</li> <li>After this step, if current value is a new min value, we always push one extra item
to the stack, right before current value, and we need to deal with this extra item later
<ul><li>The extra item is previous min value, which means if current min value does not exist
(or popped), this extra item will be this.min</li></ul></li></ul></li> <li>For pop method
<ul><li>First pop once and check if it equals min
<ul><li>If so, pop again and set this.min to the new popped value
<ul><li>Because if current value equals to this.min, then the previous min is right before it</li> <li>By popping again, we get previous min, and this previous min is the min value of current
stack, therefore we need to set this.min to this previous min</li></ul></li></ul></li></ul></li> <li>For getMin method
<ul><li>Just return this.min
<ul><li>Because during the push process, we keep updating this.min, so this.min is min value</li></ul></li></ul></li> <li>For top method
<ul><li>Just return top of stack
<ul><li>Top of stack will not have extra items we push to the stack because every time we pop
current min from the stack, we will then pop the extra item immediately</li></ul></li></ul></li></ul> <h2 id="code"><a href="#code" aria-hidden="true" class="header-anchor">#</a> Code</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/**
 * initialize your data structure here.
 */</span>
<span class="token keyword">var</span> <span class="token function-variable function">MinStack</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>stack <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>min <span class="token operator">=</span> Number<span class="token punctuation">.</span><span class="token constant">MAX_VALUE</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">/** 
 * @param {number} x
 * @return {void}
 */</span>
<span class="token class-name">MinStack</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">push</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// only push the old min value when current min value changes after</span>
    <span class="token comment">// pushing the new value x</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>min<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>min<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>min <span class="token operator">=</span> x<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * @return {void}
 */</span>
<span class="token class-name">MinStack</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">pop</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// if pop operation could result in the changing of the current </span>
    <span class="token comment">// min value, pop twice and change the current minimum value </span>
    <span class="token comment">// to the last minimum value.</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span>min<span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>min <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * @return {number}
 */</span>
<span class="token class-name">MinStack</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">top</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>stack<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>stack<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * @return {number}
 */</span>
<span class="token class-name">MinStack</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getMin</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>min<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">/** 
 * Your MinStack object will be instantiated and called as such:
 * var obj = new MinStack()
 * obj.push(x)
 * obj.pop()
 * var param_3 = obj.top()
 * var param_4 = obj.getMin()
 */</span>
</code></pre></div><div><br> <br> <br> <div id="disqus_thread"></div></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/leetcode/slidingWindowMax.html" class="prev">Sliding Window Maximum</a></span> <span class="next"><a href="/leetcode/removeInvalidParen.html">Remove Invalid Parentheses</a>→
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.323f3a58.js" defer></script><script src="/assets/js/3.0cde0bb1.js" defer></script><script src="/assets/js/2.0e59340f.js" defer></script><script src="/assets/js/30.76e3399a.js" defer></script><script src="/assets/js/6.c172b9b9.js" defer></script><script src="/assets/js/8.c764647f.js" defer></script>
  </body>
</html>
